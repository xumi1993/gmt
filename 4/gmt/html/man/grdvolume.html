<!-- Creator     : groff version 1.19.2 -->
<!-- CreationDate: Sun Jun 24 21:09:23 2018 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p     { margin-top: 0; margin-bottom: 0; }
       pre   { margin-top: 0; margin-bottom: 0; }
       table { margin-top: 0; margin-bottom: 0; }
</style>
<title>GRDVOLUME</title>

</head>
<body bgcolor="#ffffff">

<h1 align=center>GRDVOLUME</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#GRID FILE FORMATS">GRID FILE FORMATS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#REFERENCES">REFERENCES</a><br>

<hr>


<a name="NAME"></a>
<h2>NAME</h2>


<p style="margin-left:11%; margin-top: 1em">grdvolume
&minus; Calculating volume under a surface within a
contour</p>

<a name="SYNOPSIS"></a>
<h2>SYNOPSIS</h2>



<p style="margin-left:11%; margin-top: 1em"><b>grdvolume</b>
<i>grdfile</i> [ <b>&minus;C</b><i>cval</i> or
<b>&minus;C</b><i>low/high/delta</i> ] [
<b>&minus;L</b><i>base</i> ] [
<b>&minus;R</b><i>west</i>/<i>east</i>/<i>south</i>/<i>north</i>[<b>r</b>]
] [ <b>&minus;S</b>[<b>k</b>] ] [ <b>&minus;T</b> ] [
<b>&minus;V</b>[<b>l</b>] ] [
<b>&minus;Z</b><i>fact</i>[/<i>delta</i>] ] [
<b>&minus;f</b><i>colinfo</i> ]</p>

<a name="DESCRIPTION"></a>
<h2>DESCRIPTION</h2>



<p style="margin-left:11%; margin-top: 1em"><b>grdvolume</b>
reads a 2-D binary grid file and calculates the volume
contained between the surface and the plane specified by the
given contour (or zero if not given) and reports the area,
volume, and maximum mean height (volume/area).
Alternatively, specify a range of contours to be tried and
<b>grdvolume</b> will determine the volume and area inside
the contour for all contour values. The contour that
produced the maximum mean height is reported as well. This
feature may be used with <b><A HREF="grdfilter.html">grdfilter</A></b> in designing an
Optimal Robust Separator [<i>Wessel</i>, 1998]. <i><br>
grdfile</i></p>

<p style="margin-left:22%;">The name of the input 2-D
binary grid file. (See GRID FILE FORMAT below.)</p>

<a name="OPTIONS"></a>
<h2>OPTIONS</h2>


<p style="margin-left:11%; margin-top: 1em">No space
between the option flag and the associated arguments.</p>

<table width="100%" border=0 rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">



<p style="margin-top: 1em" valign="top"><b>&minus;C</b></p> </td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em" valign="top">find area and
volume inside the <i>cval</i> contour. Alternatively, search
using all contours from <i>low</i> to <i>high</i> in steps
of <i>delta</i>. [Default returns entire area and volume of
grid]. The area is measured in the plane of the contour.</p></td>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">



<p style="margin-top: 1em" valign="top"><b>&minus;L</b></p> </td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em" valign="top">Also add in the
volume from the level of the contour down to <i>base</i>
[Default base is contour].</p></td>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">



<p style="margin-top: 1em" valign="top"><b>&minus;S</b></p> </td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em" valign="top">Convert degrees to
meters, append <b>k</b> for km [Default is Cartesian].</p></td>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">



<p style="margin-top: 1em" valign="top"><b>&minus;T</b></p> </td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em" valign="top">Use curvature
minimum rather than maximum height to find best contour
value (when contour search is selected with
<b>&minus;C</b>).</p> </td>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">



<p style="margin-top: 1em" valign="top"><b>&minus;R</b></p> </td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em" valign="top"><i>xmin</i>,
<i>xmax</i>, <i>ymin</i>, and <i>ymax</i> specify the Region
of interest. For geographic regions, these limits correspond
to <i>west, east, south,</i> and <i>north</i> and you may
specify them in decimal degrees or in
[+-]dd:mm[:ss.xxx][W|E|S|N] format. Append <b>r</b> if lower
left and upper right map coordinates are given instead of
w/e/s/n. The two shorthands <b>&minus;Rg</b> and
<b>&minus;Rd</b> stand for global domain (0/360 and
-180/+180 in longitude respectively, with -90/+90 in
latitude). Alternatively, specify the name of an existing
grid file and the <b>&minus;R</b> settings (and grid
spacing, if applicable) are copied from the grid. For
calendar time coordinates you may either give (a) relative
time (relative to the selected <b><A HREF="gmtdefaults.html#TIME_EPOCH">TIME_EPOCH</A></b> and in the
selected <b><A HREF="gmtdefaults.html#TIME_UNIT">TIME_UNIT</A></b>; append <b>t</b> to
<b>&minus;JX</b>|<b>x</b>), or (b) absolute time of the form
[<i>date</i>]<b>T</b>[<i>clock</i>] (append <b>T</b> to
<b>&minus;JX</b>|<b>x</b>). At least one of <i>date</i> and
<i>clock</i> must be present; the <b>T</b> is always
required. The <i>date</i> string must be of the form
[-]yyyy[-mm[-dd]] (Gregorian calendar) or yyyy[-Www[-d]]
(ISO week calendar), while the <i>clock</i> string must be
of the form hh:mm:ss[.xxx]. The use of delimiters and their
type and positions must be exactly as indicated (however,
input, output and plot formats are customizable; see
<b><A HREF="gmtdefaults.html">gmtdefaults</A></b>).</p> </td>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">



<p style="margin-top: 1em" valign="top"><b>&minus;V</b></p> </td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em" valign="top">Selects verbose
mode, which will send progress reports to stderr [Default
runs &quot;silently&quot;]. Append <b>l</b> to see all the
results for each contour level tested (when contour search
has been selected).</p></td>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">



<p style="margin-top: 1em" valign="top"><b>&minus;Z</b></p> </td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em" valign="top">Optionally subtract
<i>shift</i> before scaling data by <i>fact</i>. [Default is
no scaling]. (Numbers in <b>&minus;C</b>, <b>&minus;L</b>
refer to values after this scaling has occurred).</p></td>
<tr valign="top" align="left">
<td width="11%"></td>
<td width="3%">



<p style="margin-top: 1em" valign="top"><b>&minus;f</b></p> </td>
<td width="8%"></td>
<td width="78%">


<p style="margin-top: 1em" valign="top">Special formatting
of input and/or output columns (time or geographical data).
Specify <b>i</b> or <b>o</b> to make this apply only to
input or output [Default applies to both]. Give one or more
columns (or column ranges) separated by commas. Append
<b>T</b> (absolute calendar time), <b>t</b> (relative time
in chosen <b><A HREF="gmtdefaults.html#TIME_UNIT">TIME_UNIT</A></b> since <b><A HREF="gmtdefaults.html#TIME_EPOCH">TIME_EPOCH</A></b>),
<b>x</b> (longitude), <b>y</b> (latitude), or <b>f</b>
(floating point) to each column or column range item.
Shorthand <b>&minus;f</b>[<b>i</b>|<b>o</b>]<b>g</b> means
<b>&minus;f</b>[<b>i</b>|<b>o</b>]0<b>x</b>,1<b>y</b>
(geographic coordinates).</p></td>
</table>

<a name="GRID FILE FORMATS"></a>
<h2>GRID FILE FORMATS</h2>


<p style="margin-left:11%; margin-top: 1em"><b><A HREF="GMT.html">GMT</A></b> is
able to recognize many of the commonly used grid file
formats, as well as the precision, scale and offset of the
values contained in the grid file. When <b><A HREF="GMT.html">GMT</A></b> needs a
little help with that, you can add the suffix
<b>=</b><i>id</i>[<b>/</b><i>scale</i><b>/</b><i>offset</i>[<b>/</b><i>nan</i>]],
where <i>id</i> is a two-letter identifier of the grid type
and precision, and <i>scale</i> and <i>offset</i> are
optional scale factor and offset to be applied to all grid
values, and <i>nan</i> is the value used to indicate missing
data. See <b><A HREF="grdreformat.html">grdreformat</A></b>(1) and Section 4.17 of the GMT
Technical Reference and Cookbook for more information.</p>

<p style="margin-left:11%; margin-top: 1em">When reading a
netCDF file that contains multiple grids, <b><A HREF="GMT.html">GMT</A></b> will
read, by default, the first 2-dimensional grid that can find
in that file. To coax <b><A HREF="GMT.html">GMT</A></b> into reading another
multi-dimensional variable in the grid file, append
<b>?</b><i>varname</i> to the file name, where
<i>varname</i> is the name of the variable. Note that you
may need to escape the special meaning of <b>?</b> in your
shell program by putting a backslash in front of it, or by
placing the filename and suffix between quotes or double
quotes. See <b><A HREF="grdreformat.html">grdreformat</A></b>(1) and Section 4.18 of the
GMT Technical Reference and Cookbook for more information,
particularly on how to read splices of 3-, 4-, or
5-dimensional grids.</p>

<a name="EXAMPLES"></a>
<h2>EXAMPLES</h2>


<p style="margin-left:11%; margin-top: 1em">To determine
the volume in km^3 under the surface hawaii_topo.grd (height
in km), use</p>


<p style="margin-left:11%; margin-top: 1em"><b>grdvolume</b>
hawaii_topo.grd <b>&minus;Sk</b></p>

<p style="margin-left:11%; margin-top: 1em">To find the
volume between the surface peaks.grd and the contour z =
250, use</p>


<p style="margin-left:11%; margin-top: 1em"><b>grdvolume</b>
peaks.grd <b>&minus;Sk &minus;C</b> 250</p>

<p style="margin-left:11%; margin-top: 1em">To search for
the contour, between 100 and 300 in steps of 10, that
maximizes the ratio of volume to surface area for the file
peaks.grd, use</p>


<p style="margin-left:11%; margin-top: 1em"><b>grdvolume</b>
peaks.grd <b>&minus;Sk &minus;C</b> 100/300/10 &gt;
results.d</p>

<p style="margin-left:11%; margin-top: 1em">To see the
areas and volumes for all the contours in the previous
example, use</p>


<p style="margin-left:11%; margin-top: 1em"><b>grdvolume</b>
peaks.grd <b>&minus;Sk &minus;Vl &minus;C</b> 100/300/10
&gt; results.d</p>

<a name="NOTES"></a>
<h2>NOTES</h2>



<p style="margin-left:11%; margin-top: 1em"><b>grdvolume</b>
distinguishes between gridline and gridcell oriented grids.
In both cases the area and volume are computed up to the
grid boundaries. That means that in the first case the
gridcells on the boundary only contribute half their area
(and volume), whereas in the second case all gridcells are
fully used. The exception is when the <b>&minus;C</b> flag
is used: since contours do not extend beyond the outermost
gridpoint, both grid types are treated the same. That means
the outer rim in gridcell oriented grids is ignored when
using the <b>&minus;C</b> flag.</p>

<a name="SEE ALSO"></a>
<h2>SEE ALSO</h2>


<p style="margin-left:11%; margin-top: 1em"><i><A HREF="GMT.html">GMT</A></i>(1),
<i><A HREF="grdfilter.html">grdfilter</A></i>(1)</p>

<a name="REFERENCES"></a>
<h2>REFERENCES</h2>


<p style="margin-left:11%; margin-top: 1em">Wessel, P.,
1998, An empirical method for optimal robust
regional-residual separation of geophysical data, <i>Math.
Geol., 30(4)</i>, 391&minus;408.</p>
<hr>
</body>
</html>
